services:
  - type: cron
    name: waymo-counter
    runtime: python
    schedule: "*/10 * * * *"  # Every 10 minutes
    buildCommand: pip install -r requirements.txt
    startCommand: python -m src.main
    plan: starter  # 512MB-2GB RAM for PyTorch
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: MODEL_URL
        value: https://github.com/USER/waymo-counter/releases/download/v1.0/best.pt
      - key: CONFIDENCE_THRESHOLD
        value: "0.25"
      - key: MAX_WORKERS
        value: "3"
